<!DOCTYPE html>
<HTML>
<HEAD>
    <title>合一智造－场景化服装智能供应链集成服务商｜全球新品 店铺管理系统 营销解决方案</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/font-awesome.min.css" />
    <link rel="Shortcut Icon" href="../assets/img/salePlat/head-lodo.png" type="image/x-icon">
    <link rel="stylesheet" href="../assets/css/zTreeStyle.css" type="text/css">
    <link rel="stylesheet" href="../assets/css/salePlat/homePage.css">
</HEAD>
<style>
    .left{
        position: fixed;
        top: 40px;
        left: 0;
        z-index: 100;
        width: 150px;
        bottom: 0;
        border-right: 1px dotted #999;
    }
    .right{
        width: calc(100% - 150px);
        margin-left: 150px;
        padding: 0 10px;
    }
    #head{
        position: fixed;
        top:0;
        z-index: 1000;
        width: 100%;
    }
</style>
<BODY>
<div id="head"></div>
<div style="margin-top: 115px">
    <div class="left">
        <ul id="treeDemo" class="ztree"></ul>
    </div>
    <div class="right">
        <div class="row">
        </div>
    </div>
</div>
<script type="text/javascript" src="../assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../assets/js/jquery.ztree.core-3.5.min.js"></script>
<script type="text/javascript" src="../assets/js/layer/layer.js"></script>
<script type="text/javascript" src="../assets/js/salePlat/login.js"></script>
<script type="text/javascript" src="../assets/js/salePlat/head.js"></script>
<script type="text/javascript" src="../assets/js/salePlat/bottom.js"></script>
<script type="text/javascript" src="../assets/js/salePlat/upLoad.js"></script>
<SCRIPT LANGUAGE="JavaScript">
    var offsetLeft6 = $('#target').offset().left + 190 + 'px';
    $('#cnzz_stat_icon_1271449140').css({'position': 'absolute', 'bottom': '-73px', 'left': offsetLeft6});
    $(window).resize(function(){
        offsetLeft6 = $('#target').offset().left + 190 + 'px';
        $('#cnzz_stat_icon_1271449140').css({'position': 'absolute', 'bottom': '-73px', 'left': offsetLeft6});
    });
    var zTreeObj;
    var setting = {
        view: {
            selectedMulti: true, //设置是否能够同时选中多个节点
            showIcon: true,  //设置是否显示节点图标
            showLine: true,  //设置是否显示节点与节点之间的连线
            showTitle: true  //设置是否显示节点的title提示信息
        },
        data: {
            simpleData: {
                enable: false, //设置是否启用简单数据格式（zTree支持标准数据格式跟简单数据格式，上面例子中是标准数据格式）
                idKey: "id",  //设置启用简单数据格式时id对应的属性名称
                pidKey: "pId" //设置启用简单数据格式时parentId对应的属性名称,ztree根据id及pid层级关系构建树结构
            }
        },
        check:{
            enable: true   //设置是否显示checkbox复选框
        },
            callback: {
                onClick: onClick   //定义节点单击事件回调函数
//                onRightClick: OnRightClick, //定义节点右键单击事件回调函数
//                beforeRename: beforeRename, //定义节点重新编辑成功前回调函数，一般用于节点编辑时判断输入的节点名称是否合法
//                onDblClick: onDblClick,  //定义节点双击事件回调函数
//                onCheck: onCheck    //定义节点复选框选中或取消选中事件的回调函数
            },
        async: {
            enable: true,      //设置启用异步加载
            type: "get",      //异步加载类型:post和get
            contentType: "application/json", //定义ajax提交参数的参数类型，一般为json格式
            url: "/Design/Get",    //定义数据请求路径
            autoParam: ["id=id", "name=name"] //定义提交时参数的名称，=号前面标识节点属性，后面标识提交时json数据中参数的名称
        }
    };  // zTree 的参数配置，后面详解
    var zNodes = [   // zTree 的数据属性，此处使用标准json格式
        {
            name: "一级1", open: true, id: 2},
        {
            name: "一级2", open: true, id: 3},
        {
            name: "一级1", open: true, id: 4, children: [
                { name: "二级1_1" }, { name: "二级1_2" }]
        },{
            name: "一级1", open: true, id: 5, children: [
                { name: "二级1_1" }, { name: "二级1_2" }]
        }
    ];
    $(document).ready(function () {
        zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes); //初始化zTree，三个参数一次分别是容器(zTree 的容器 className 别忘了设置为 "ztree")、参数配置、数据源
    });
    function onClick(e, treeId, treeNode) {
        if (treeNode.isParent){
            layer.alert(treeNode.id, {icon: 0})
        }
        else{
            layer.alert(treeNode.name, {icon: 0}); //获取当前结点上的相关属性数据，执行相关逻辑
        }
    };
</SCRIPT>
</BODY>
</HTML>